17/23
5*9
45/(9+36)
(4*9-3*8)/9
library("dplyr") # манипуляции с данными
library("caret") # стандартизованный подход к регрессионным и классификационным моделям
install.packages("caret")
р
library("AER") # инструментальные переменные
install.packages("AER")
library("ggplot2") # графики
library("sandwich") # робастные стандартные ошибки
library("ivpack") # дополнительные плющки для инструментальных переменных
library("memisc") # табличка mtable
install.packages("ivpack")
library("ivpack") # дополнительные плющки для инструментальных переменных
h<-diamonds
set.seed(12345)
train_ind <- createDataPartition(h$price, p=0.8, list=FALSE)
library("dplyr") # манипуляции с данными
library("caret") # стандартизованный подход к регрессионным и классификационным моделям
library("AER") # инструментальные переменные
library("ggplot2") # графики
library("sandwich") # робастные стандартные ошибки
library("ivpack") # дополнительные плющки для инструментальных переменных
library("memisc") # табличка mtable
?createDataPartion
?createDataPartition
set.seed(12345)
train_ind <- createDataPartition(h$price, p=0.8, list=FALSE)
h_train <- h[train_ind,]
h_test <- h[-train_ind,]
View(train_ind)
model <- lm(log(price)~log(carat)+log(depth)+log(table)+clarity,h_train)
Pred<-predict(model,h_train)
glimpse(Pred)
Pred<-predict(model,h_test)
?exp
Pred<-exp(predict(model,h_test))
sum(Pred-h_test$price)
sum((Pred-h_test$price)^2)
sum((Pred-h_test$price)^2)/1000000000
h <- CollegeDistance
?data("CollegeDistance")
?CollegeDistance
h <- CollegeDistance
data("CollegeDistance")
h <- CollegeDistance
?data
model<-ivreg(data=h, wage~education |region+gender+ethnicity+unemp+distance)
mtable(model)
summary (model)
round(0.8759,2)
model<-ivreg(data=h, wage~region+gender+ethnicity+unemp+distance+education |region+gender+ethnicity+unemp+distance)
model<-ivreg(data=h, wage ~ region+gender+ethnicity+unemp+distance+education |
region+gender+ethnicity+unemp+distance)
model<-ivreg(data=h, wage ~ region+gender+ethnicity+unemp+distance+education |
region+gender+ethnicity+unemp)
mtable(model)
h <- CollegeDistance
model<-ivreg(data=h, wage ~ region+gender+ethnicity+unemp+distance+education |
region+gender+ethnicity+unemp)
mtable(model)
model<-ivreg(data=h, wage ~ region+gender+ethnicity+unemp+education |
region+gender+ethnicity+unemp+distance)
mtable(model)
library("dplyr") # манипуляции с данными
library("caret") # стандартизованный подход к регрессионным и классификационным моделям
library("AER") # инструментальные переменные
library("ggplot2") # графики
library("sandwich") # робастные стандартные ошибки
library("ivpack") # дополнительные плющки для инструментальных переменных
library("memisc") # табличка mtable
4+6*25
154/25
h<-diamonds
set.seed(12345)
train_ind <- createDataPartition(h$price, p=0.8, list=FALSE)
h_train <- h[train_ind,]
h_test <- h[-train_ind,]
model <- lm(log(price)~log(carat)+log(depth)+log(table)+clarity,h_train)
Pred<-exp(predict(model,h_test))
sum((Pred-h_test$price)^2)/1000000000
data("CollegeDistance")
h <- CollegeDistance
data("CollegeDistance")
h <- CollegeDistance
model<-ivreg(data=h, wage ~ gender+ethnicity+unemp+education |
gender+ethnicity+unemp+distance)
mtable(model)
Round(0.677,2)
кound(0.677,2)
round(0.677,2)
qt(0.9)
qnorm(0.9)
qt(0.9, 50)
qt(0.95, 50)
qt(0.975)
qnorm(0.975)
qnorm(-0.975)
qnorm(00.5)
qnorm(0.025)
qnorm(0.05)+20
20+4*qnorm(0.05)
20-4*йтщкь(0,95)
20-4*qnorm(0,95)
20-4*qnorm(0.95)
round(20-4*qnorm(0.95),2)
2+3.4*20
4.5+20*20*0.05+2*20*(-0.23)
library("sandwich") # vcovHC, vcovHAC
library("lmtest") # тесты
library("car") # еще тесты
library("dplyr") # манипуляции с данными
library("AER") # манипуляции
library("ggplot2") # графики
library("caret")
library("forecast")
h<- mtcars
model<-lm(mpg~hp+wt+am)
bptest(model)
model<-lm(mpg~hp+wt+am, h)
bptest(model)
?bptest
bptest(model, varformula = hp)
bptest(mpg~hp+wt+am, varformula = hp, data=h)
bptest(mpg~hp+wt+am, varformula = ~hp, data=h)
bptest(model, varformula = ~hp, data=h)
bptest(model, varformula = ~hp+I(hp^2), data=h)
model<-lm(mpg~hp++I(hp^2)+wt+am, h)
model<-lm(mpg~hp+I(hp^2)+wt+am, h)
summary(model)
model<-lm(mpg~hp+hp^2+wt+am, h)
bptest(model)
summary(model)
?I
?terms
h<- mtcars
model<-lm(mpg~hp+wt+am, h)
bptest(model, varformula = ~hp+I(hp^2)+wt+I(wt^2), data=h)
res<-bptest(model, varformula = ~hp+I(hp^2)+wt+I(wt^2), data=h)
res$parameter
res$data.name
res<-bptest(model, varformula = ~hp+I(hp^2)+wt+I(wt^2))
data=h
bptest(model, varformula = ~hp+I(hp^2)+wt+I(wt^2), data=h)
bptest(mpg~hp+wt+am, varformula = ~hp+I(hp^2)+wt+I(wt^2), data=h)
res<-bptest(mpg~hp+wt+am, varformula = ~hp+I(hp^2)+wt+I(wt^2), data=h)
res$statistic
round(res$p.value,3)
?poly
gqtest(model, order.by = ~hp, data=h, fraction = 0.3)
gqtest(model, order.by = ~hp, data=h, fraction = 0.2)
gqtest(model, order.by = ~wt, data=h, fraction = 0.3)
gqtest(model, order.by = ~wt, data=h, fraction = 0.2)
vcovHC(model,type="HC0")
vcovHC(model,type="HC0")["hp"]
vcovHC(model,type="HC0")[1]
vcovHC(model,type="HC0")[1,]
vcovHC(model,type="HC0")[2,]
vcovHC(model,type="HC0")[,2]
vcovHC(model,type="HC0")[2,2]
vcovHC(model,type="HC0")[3,2]
vcovHC(model,type="HC1")[3,2]
vcovHC(model,type="HC2")[3,2]
vcovHC(model,type="HC3")[3,2]
vcovHC(model,type="HC3")
library("sandwich") # vcovHC, vcovHAC
library("lmtest") # тесты
library("car") # еще тесты
library("dplyr") # манипуляции с данными
library("AER") # манипуляции
library("ggplot2") # графики
library("caret")
library("forecast")
set.seed(123)
y<-arima.sim(model = list(ar = c(0.5, 0.1), ma = c(0.3,0.2)), n = 100)
mod1<-Arima(y, order=c(1,1,1))
mod2<-Arima(y, order=c(1,1,0))
mod3<-Arima(y, order=c(0,1,2))
mod4<-Arima(y, order=c(1,1,2))
mtable()
summary(mod1)
set.seed(123)
y<-arima.sim(model = list(ar = c(0.5, 0.1), ma = c(0.3,0.2)), n = 100)
mod1<-Arima(y, order=c(1,1,1))
mod2<-Arima(y, order=c(1,1,0))
mod3<-Arima(y, order=c(0,1,2))
mod4<-Arima(y, order=c(1,1,2))
summary(mod1)
summary(mod2)
summary(mod3)
summary(mod4)
summary(mod1)
?arima
model<-Arima(y, order=c(3,0,3), fixed=c(0,NA,NA,0,NA,NA,NA))
summary(model)
model<-Arima(y, order=c(3,0,3), fixed=c(0,NA,NA,0,NA,NA,0))
summary(model)
A
A
model<-Arima(y, order=c(3,0,3), fixed=c(0,NA,NA,0,NA,NA,NA))
summary(model)
data("CollegeDistance")
h <- CollegeDistance
set.seed(42)
train_ind <- createDataPartition(h$wage, p=0.9, list=FALSE)
h_train <- h[train_ind,]
h_test <- h[-train_ind,]
h <- CollegeDistance
set.seed(42)
train_ind <- createDataPartition(h$wage, p=0.9, list=FALSE)
h_train <- h[train_ind,]
h_test <- h[-train_ind,]
model<-lm(wage~gender+ethnicity+unemp+ducation+region, h_train)
model<-lm(wage~gender+ethnicity+unemp+education+region, h_train)
summary(model)
library("memisc") # табличка mtable
mtable(mod1,mod2,mod3,mod4)
region+gender+ethnicity+unemp+distance)
region+gender+ethnicity+unemp+distance)
model<-ivreg(data=h, wage ~ region+gender+ethnicity+unemp+education |
region+gender+ethnicity+unemp+distance)
model<-ivreg (data=h_train, wage ~ gender+ethnicity+unemp+education+region|
region+gender+ethnicity+unemp+distance )
h <- CollegeDistance
set.seed(42)
train_ind <- createDataPartition(h$wage, p=0.9, list=FALSE)
h_train <- h[train_ind,]
h_test <- h[-train_ind,]
model<-lm(wage~gender+ethnicity+unemp+education+region, h_train)
summary(model)
model<-ivreg (data=h_train, wage ~ gender+ethnicity+unemp+education+region|
region+gender+ethnicity+unemp+distance )
summary(model)
Pred<-predict(model,h_test)
Pred
Pred<-as.data.frame(Pred=predict(model,h_test))
Pred<-as.data.frame(Pred1=predict(model,h_test))
Pred<-as.data.frame(predict(model,h_test))
View(Pred)
round(10.085335,3)
37.25/40
stringsAsFactors = FALSE, na.strings = "?")
data <- read.table("Household_power_consumption_Query.txt", header = TRUE, sep = "\t",
stringsAsFactors = FALSE, na.strings = "?")
setwd("C:/RLibs/WorkDir/ExData_Plotting1")
data <- read.table("Household_power_consumption_Query.txt", header = TRUE, sep = "\t",
stringsAsFactors = FALSE, na.strings = "?")
View(data)
head (data)
summary(data)
View(data)
data <- na.omit(data)
data <- read.table("Household_power_consumption_Query.txt", header = TRUE, sep = "\t",
stringsAsFactors = FALSE, na.strings = "?")
data <- na.omit(data)
?strptime
png(file = "plot1.png", width = 480, height = 480, units="px")
hist(data$Global_active_power, xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "red")
dev.off()
hist(data$Global_active_power, xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "red")
?paste
?hist
data <- read.csv("Household_power_consumption_Query.txt", header = TRUE, sep = "\t",
stringsAsFactors = FALSE, na.strings = "?")
View(data)
hist(data$Global_active_power, xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "red")
?hist
hist(data$Global_active_power, xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "red", freq=TRUE)
hist(data$Global_active_power, xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "red", freq=FALSE)
qqplot (data$Global_active_power, xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "red")
,ййздще
?qqplot
?hist
qqplot (as.double(data$Global_active_power), xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "red")
hist (as.double(data$Global_active_power), xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "red")
hist (as.double(data$Global_active_power), xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "red", breaks = c(0,2,4,6))
hist (as.double(data$Global_active_power), xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "red", breaks = c(0,2,4,6,8))
hist (as.double(data$Global_active_power), xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "red", xlims = c(0,2,4,6,8))
setwd("C:/RLibs/WorkDir/ExData_Plotting1")
data <- read.table("household_power_consumption.txt", header = TRUE, sep = ";",
stringsAsFactors = FALSE, na.strings = "?")
tail(data)
data <- read.table("household_power_consumption_Query.txt", header = TRUE, sep = ";",
stringsAsFactors = FALSE, na.strings = "?")
View(data)
?par
par(mfrow = c(2, 1), mar = c(4, 4, 2, 1))
hist(subset(pollution, region == "east")$pm25, col = "green")
hist(subset(pollution, region == "west")$pm25, col = "green")
?with
?transform
setwd("C:/RLibs/WorkDir/ExData_Plotting1")
setwd("C:/RLibs/WorkDir/ExData_Plotting1")
data <- read.table("household_power_consumption_Query.txt", header = TRUE, sep = ";",
stringsAsFactors = FALSE, na.strings = "?")
View(data)
data <- na.omit(data)
head (data)
summary(data)
?strptime
summary(data$Date)
y<- strptime(data$Date, "%d/%m/%Y %H:%M:%S")
y<- strptime(data$Date, "%d.%m.%Y")
y<- strptime(data$Date, "%d/%m/%Y")
y<- strptime(data$Date, "%d.%m.%Y  %H:%M:%S")
y<- strptime(data$Date, "%d.%m.%Y %H:%M:%S")
head(y)
strptime(paste(data$Date,data$Time), "%d/%m/%Y %H:%M:%S")
y<- strptime(data$Date, "%d.%m.%Y")
head(y)
y<- strptime(data$Date, "%d.%m.%Y", usetx = FALSE)
y<- strptime(data$Date, "%d.%m.%Y", usetz = FALSE)
y<- strptime(data$Date, "%d.%m.%Y", tz = """)
y<- strptime(data$Date, "%d.%m.%Y", tz = "")
head(y)
y<- strptime(data$Date, "%d.%m.%Y %V", tz = "")
head(y)
strtrim(y,6)
head(data$aate)
head(data$Date)
head(data$Time)
data$datetime <- strptime(paste(strtrimm(data$Date,8),data$Time), "%d/%m/%Y %H:%M:%S")
data$datetime <- strptime(paste(strtrim(data$Date,8),data$Time), "%d/%m/%Y %H:%M:%S")
View(data)
data$datetime <- strptime(paste(strtrim(data$Date,8),data$Time), "%d.%m.%Y %H:%M:%S")
View(data)
head(data$datetime)
hist(data$Global_active_power, xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "red")
hist(data$Global_active_power, xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "red")
par("mfrow")
par(mfrow = c(1,1))
hist(data$Global_active_power, xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "red")
?hist
hist(data$Global_active_power, xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "red", xlim =1200)
hist(data$Global_active_power, xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "red", xlim =1200)
hist(data$Global_active_power, xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "red", xlim =[0:1200])
main = "Global Active Power", col = "red", xlim =0:1200)
hist(data$Global_active_power, xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "red", xlim =c(0,1200))
main = "Global Active Power", col = "red", ylim =c(0,1200))
hist(data$Global_active_power, xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "red", ylim =c(0,1200))
hist(data$Global_active_power, xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "orange", ylim =c(0,1200))
colors()
hist(data$Global_active_power, xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "red1", ylim =c(0,1200))
hist(data$Global_active_power, xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "red2", ylim =c(0,1200))
hist(data$Global_active_power, xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "red3", ylim =c(0,1200))
hist(data$Global_active_power, xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "red", ylim =c(0,1200))
hist(data$Global_active_power, xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "red5", ylim =c(0,1200))
hist(data$Global_active_power, xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "orange4", ylim =c(0,1200))
main = "Global Active Power", col = "red", ylim =c(0,1200))
hist(data$Global_active_power, xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "red", ylim =c(0,1200))
?png
png(file = "plot1.png",bg="transparent", units="px")
hist(data$Global_active_power, xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "red", ylim =c(0,1200))
dev.off()
png(file = "plot1.png",bg="white", units="px")
hist(data$Global_active_power, xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "red", ylim =c(0,1200))
dev.off()
hist(data$Global_active_power, xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "brown", ylim =c(0,1200))
hist(data$Global_active_power, xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "tomato", ylim =c(0,1200))
main = "Global Active Power", col = "maroon", ylim =c(0,1200))
hist(data$Global_active_power, xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "maroon", ylim =c(0,1200))
png(file = "plot1.png",bg="Transparent")
hist(data$Global_active_power, xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "red", rylim =c(0,1200))
dev.off()
png(file = "plot1.png", bg="Transparent")
png(file = "plot1.png", bg = "transparent")
hist(data$Global_active_power, xlab = "Global Active Power (kilowatts)",
main = "Global Active Power", col = "red", rlim =c(0,1200))
dev.off()
setwd("C:/RLibs/WorkDir/ExData_Plotting1")
data <- read.table("household_power_consumption_Query.txt", header = TRUE, sep = ";",
stringsAsFactors = FALSE, na.strings = "?")
setwd("C:/RLibs/WorkDir/ExData_Plotting1")
data <- read.table("household_power_consumption_Query.txt", header = TRUE, sep = ";",
stringsAsFactors = FALSE, na.strings = "?")
data$datetime <- strptime(paste(strtrim (data$Date,8),data$Time), "%d.%m.%Y %H:%M:%S")
View(data)
y<-strtrim (data$Date,8)
View(data)
setwd("C:/RLibs/WorkDir/ExData_Plotting1")
data <- read.table("household_power_consumption_Query.txt", header = TRUE, sep = ";",
stringsAsFactors = FALSE, na.strings = "?")
data$datetime <- strptime(paste(strtrim (data$Date,8),data$Time), "%d.%m.%Y %H:%M:%S")
View(data)
plot(data$Global_active_power)
plot(data$datetime,data$Global_active_power)
abline(data$datetime,data$Global_active_power)
abline(data$datetime,data$Global_active_power)
?abline
plot.ts(data$Global_active_power)
?plot
plot(data$Global_active_power, type = "o")
plot(data$Global_active_power, type = "l")
plot(data$datetime, data$Global_active_power, type = "l")
plot(data$datetime, data$Global_active_power, type = "c")
plot(data$datetime, data$Global_active_power, type = "s")
plot(data$datetime, data$Global_active_power, type = "S")
plot(data$datetime, data$Global_active_power, type = "S")
plot(data$datetime, data$Global_active_power, type = "l")
plot(data$datetime, data$Global_active_power, type = "l", breaks = c("1", "2", "3"))
?breaks
?break
?plot
plot(data$datetime, data$Global_active_power, type = "l", breaks = c("asd", "2", "3"))
plot(data$datetime, data$Global_active_power, type = "l", xlim=c(0,123))
plot(data$datetime, data$Global_active_power, type = "l", breaks=c(0,123))
plot(data$datetime, data$Global_active_power, type = "l", break=c(0,123))
plot(data$datetime, data$Global_active_power, type = "l", breaks=c(0,123))
?hist
png(file = "plot2.png", bg = "transparent")
plot(data$datetime, data$Global_active_power, type = "l")
#hist(data$Global_active_power, xlab = "Global Active Power (kilowatts)",
#     main = "Global Active Power", col = "red", rlim =c(0,1200))
dev.off()
